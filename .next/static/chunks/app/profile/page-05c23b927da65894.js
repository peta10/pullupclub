(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{211:(e,t,a)=>{Promise.resolve().then(a.bind(a,8261)),Promise.resolve().then(a.bind(a,556))},556:(e,t,a)=>{"use strict";a.d(t,{default:()=>H});var s=a(5155),r=a(2115),l=a(5695),n=a(8126),i=a.n(n),o=a(8589),d=a(5731),c=a(7863),u=a(2895);let x=(0,u.A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),m=(0,u.A)("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);var h=a(8186),g=a(7434),p=a(3168),b=a(6874),f=a.n(b),y=a(1218),j=a(798);let N=e=>{let{bestScore:t}=e,{t:a}=(0,y.Bd)("profile"),{user:l}=(0,d.As)(),[n,i]=(0,r.useState)([]),[o,u]=(0,r.useState)(!1),[x,m]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{(async()=>{if(0!==t&&l){u(!0);try{let{data:e,error:a}=await p.ND.from("user_best_submissions").select("actual_pull_up_count, full_name, organization").gt("actual_pull_up_count",t).neq("user_id",l.id).order("actual_pull_up_count",{ascending:!0}).limit(3);if(a)throw a;if(!e||0===e.length)return void m(!0);let s=e.map(e=>({fullName:e.full_name,organization:e.organization||"Independent",pullUpCount:e.actual_pull_up_count}));i(s)}catch(e){console.error("Failed to fetch next targets:",e)}finally{u(!1)}}})()},[t,l]),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(c.A,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:a("dashboard.nextToBeat.title","Next to Beat")}),o?(0,s.jsx)("p",{className:"text-gray-400",children:a("dashboard.nextToBeat.loading","Loading...")}):x?(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("p",{className:"text-2xl font-bold text-[#9b9b6f] mb-2",children:a("dashboard.nextToBeat.leading","You're Leading!")}),(0,s.jsx)("p",{className:"text-gray-400",children:a("dashboard.nextToBeat.keepGoing","Keep pushing your limits!")})]}):n.length>0?(0,s.jsx)("div",{className:"space-y-3",children:n.map((e,t)=>(0,s.jsx)("div",{className:"text-left bg-gray-800 p-3 rounded",children:(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-white font-medium",children:e.fullName}),(0,s.jsxs)("span",{className:"text-gray-400 text-sm ml-1",children:["(",e.organization,")"]})]}),(0,s.jsxs)("span",{className:"text-[#9b9b6f] font-bold",children:[e.pullUpCount," ",a("dashboard.nextToBeat.pullUps","pull-ups")]})]})},t))}):(0,s.jsx)("p",{className:"text-gray-400",children:a("dashboard.nextToBeat.noTargets","Start submitting to see your next targets!")})]})},v=()=>{var e;let{user:t}=(0,d.As)(),a=(()=>{let[e,t]=(0,r.useState)({days:0,hours:0,minutes:0,seconds:0});return(0,r.useEffect)(()=>{let e=()=>{let e=new Date,a=new Date(e.getFullYear(),e.getMonth()+1,1).getTime()-e.getTime();a>0&&t({days:Math.floor(a/864e5),hours:Math.floor(a/36e5%24),minutes:Math.floor(a/1e3/60%60),seconds:Math.floor(a/1e3%60)})};e();let a=setInterval(e,1e3);return()=>clearInterval(a)},[]),e})(),{t:l}=(0,y.Bd)("profile"),[n,i]=(0,r.useState)([]),[o,c]=(0,r.useState)(!1),[u,b]=(0,r.useState)(0),[v,w]=(0,r.useState)(null),{trackViewContent:_}=(0,j.Q)(),k=(0,r.useRef)(!1),A=async()=>{if(t){c(!0);try{let{data:e,error:a}=await p.ND.from("submissions").select("*").eq("user_id",t.id).order("created_at",{ascending:!1});if(a)throw a;if(e){let t=e.map(e=>{var t,a,s,r,l;return{id:e.id,userId:e.user_id,fullName:e.full_name||(null==(t=e.email)?void 0:t.split("@")[0])||"Unknown User",email:e.email||"unknown@example.com",phone:null!=(a=e.phone)?a:void 0,age:null!=(s=e.age)?s:0,gender:e.gender||"Other",region:e.region||"Unknown Region",organization:e.organization||"None",pullUpCount:e.pull_up_count,actualPullUpCount:null!=(r=e.actual_pull_up_count)?r:void 0,videoUrl:e.video_url,status:e.status.charAt(0).toUpperCase()+e.status.slice(1),submittedAt:e.created_at,approvedAt:e.approved_at||void 0,notes:null!=(l=e.notes)?l:void 0,featured:"approved"===e.status,socialHandle:e.social_handle}});i(t);let a=t.filter(e=>"approved"===e.status.toLowerCase()).reduce((e,t)=>{var a;let s=null!=(a=t.actualPullUpCount)?a:t.pullUpCount;return s>e?s:e},0);b(a);let s=new Date().getMonth(),r=new Date().getFullYear(),l=t.find(e=>{let t=new Date(e.submittedAt);return t.getMonth()===s&&t.getFullYear()===r})||null;w(l)}}catch(e){console.error("Failed to load submission history")}finally{c(!1)}}};return(0,r.useEffect)(()=>{A()},[t]),(0,r.useEffect)(()=>{k.current||(k.current=!0,_({},{name:"Submission Dashboard",category:"profile",type:"dashboard"}).catch(()=>{}))},[_]),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(x,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:l("dashboard.countdown.title")}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-white mb-1",children:[a.days,"d ",a.hours,"h ",a.minutes,"m ",a.seconds,"s"]}),(0,s.jsx)("p",{className:"text-gray-400",children:l("dashboard.countdown.remaining")})]}),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(m,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:v&&"rejected"!==v.status.toLowerCase()?l("dashboard.status.title"):l("dashboard.status.ready")}),v&&"rejected"!==v.status.toLowerCase()?(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-gray-400 mb-2",children:l("dashboard.status.thisMonth")}),(0,s.jsx)("p",{className:"font-semibold mb-2 capitalize ".concat((e=>{switch(e){case"approved":return"text-green-400";case"rejected":return"text-red-400";default:return"text-yellow-400"}})(v.status)),children:v.status}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white",children:l("dashboard.status.pullUps",{count:null!=(e=v.actualPullUpCount)?e:v.pullUpCount})}),"approved"===v.status.toLowerCase()&&(0,s.jsx)("div",{className:"mt-4 text-sm text-gray-400",children:(0,s.jsx)("p",{className:"text-green-400",children:l("dashboard.status.onLeaderboard")})})]}):(0,s.jsxs)("div",{children:[(null==v?void 0:v.status.toLowerCase())==="rejected"?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("p",{className:"text-gray-400 mb-2",children:l("dashboard.status.rejected")}),(0,s.jsx)("p",{className:"text-red-400 mb-4",children:l("dashboard.status.rejectedCTA")})]}):(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:l("dashboard.status.competeCTA")}),(0,s.jsx)(f(),{href:"/submit",children:(0,s.jsx)("button",{className:"bg-[#9b9b6f] hover:bg-[#a5a575] text-black font-semibold px-6 py-2 rounded-lg transition-colors",children:(null==v?void 0:v.status.toLowerCase())==="rejected"?l("dashboard.submitNewButton"):l("dashboard.submitButton")})})]})]}),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(h.A,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:l("dashboard.best.title")}),(0,s.jsx)("p",{className:"text-2xl font-bold text-white mb-1",children:u}),(0,s.jsx)("p",{className:"text-gray-400",children:l("dashboard.best.unit")}),u>0&&(0,s.jsx)("div",{className:"mt-4 text-sm text-gray-400",children:(0,s.jsx)("p",{className:"text-[#9b9b6f]",children:l("dashboard.status.onLeaderboard")})})]}),(0,s.jsx)(N,{bestScore:u}),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105 md:col-span-2",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(g.A,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:l("dashboard.history.title")}),o?(0,s.jsx)("p",{className:"text-gray-400",children:l("dashboard.history.loading")}):n.length>0?(0,s.jsxs)("div",{className:"space-y-3",children:[n.slice(0,5).map(e=>{var t;return(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm bg-gray-800 p-3 rounded",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("span",{className:"text-white font-medium",children:new Date(e.submittedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}),(0,s.jsx)("span",{className:"text-white text-xs px-2 py-1 rounded capitalize ".concat((e=>{switch(e){case"approved":return"bg-green-600";case"rejected":return"bg-red-600";default:return"bg-yellow-600"}})(e.status)),children:e.status})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("span",{className:"text-white font-bold",children:l("dashboard.status.pullUps",{count:null!=(t=e.actualPullUpCount)?t:e.pullUpCount})}),e.videoUrl&&(0,s.jsx)("div",{className:"mt-1",children:(0,s.jsx)("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer",className:"text-[#9b9b6f] hover:text-[#a5a575] text-xs",children:l("dashboard.history.viewVideo")})})]})]},e.id)}),n.length>5&&(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:l("dashboard.history.andMore",{count:n.length-5})})]}):(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:l("dashboard.noSubmissions")}),(0,s.jsx)("p",{className:"text-gray-500 text-sm mb-4",children:l("dashboard.noSubmissionsCTA")}),(0,s.jsx)(f(),{href:"/submit",children:(0,s.jsx)("button",{className:"bg-[#9b9b6f] hover:bg-[#a5a575] text-black font-semibold py-2 px-4 rounded-lg transition-colors",children:l("dashboard.submitFirstButton")})})]})]})]})},w=(0,u.A)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var _=a(1007);let k=(0,u.A)("Hash",[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]]);var A=a(9074),P=a(7580);let M=(0,u.A)("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),S=(0,u.A)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),z=(0,u.A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var C=a(8260);let q=["North America","South America","Europe","Asia","Middle East","Africa","Australia/Oceania"],E=()=>{let{user:e,profile:t,setProfile:a}=(0,d.As)(),{t:l}=(0,y.Bd)("profile"),[n,i]=(0,r.useState)({fullName:"",socialMedia:"",age:"",gender:"",organization:"",region:"",phone:""}),[o,c]=(0,r.useState)(!1),[u,x]=(0,r.useState)(!1);(0,r.useEffect)(()=>{t&&i({fullName:t.full_name||"",socialMedia:t.social_media||"",age:t.age?String(t.age):"",gender:t.gender||"",organization:t.organization||"",region:t.region||"",phone:t.phone||""})},[t]),(0,r.useEffect)(()=>{if(!t)return;let e={fullName:t.full_name||"",socialMedia:t.social_media||"",age:t.age?String(t.age):"",gender:t.gender||"",organization:t.organization||"",region:t.region||"",phone:t.phone||""};x(JSON.stringify(n)!==JSON.stringify(e))},[n,t]);let m=e=>{let{name:t,value:a}=e.target;i(e=>({...e,[t]:a})),x(!0)},h=async t=>{if(t.preventDefault(),null==e?void 0:e.id){c(!0);try{let t={full_name:n.fullName,social_media:n.socialMedia,age:parseInt(n.age)||null,gender:n.gender,organization:n.organization,region:n.region,phone:n.phone,is_profile_completed:!0,updated_at:new Date().toISOString()},{error:s}=await p.ND.from("profiles").update(t).eq("id",e.id);if(s)throw s;let{data:r,error:i}=await p.ND.from("profiles").select("*").eq("id",e.id).single();if(i)throw i;a&&r&&a(e=>e?{...e,full_name:r.full_name,social_media:r.social_media,age:r.age,gender:r.gender,organization:r.organization,region:r.region,phone:r.phone,is_profile_completed:!0}:e),x(!1),C.Ay.success(l("settings.updateSuccess"))}catch(e){console.error("Error updating profile:",e),C.Ay.error(l("settings.updateError"))}finally{c(!1)}}};return(0,s.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsxs)("div",{className:"flex items-center mb-6 justify-center",children:[(0,s.jsx)(w,{size:48,className:"text-[#9b9b6f] mr-4"}),(0,s.jsxs)("div",{className:"text-left",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:l("settings.title")}),(0,s.jsx)("p",{className:"text-gray-400",children:l("settings.subtitle")})]})]}),(0,s.jsxs)("form",{onSubmit:h,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center text-sm font-medium mb-2 text-[#9b9b6f]",children:[(0,s.jsx)(_.A,{className:"w-4 h-4 mr-1"}),l("settings.fullName")]}),(0,s.jsx)("input",{type:"text",value:n.fullName,onChange:m,name:"fullName",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-[#9b9b6f] focus:outline-none transition-colors",placeholder:l("settings.fullNamePlaceholder")}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:l("settings.fullNameDesc")})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center text-sm font-medium mb-2 text-[#9b9b6f]",children:[(0,s.jsx)(k,{className:"w-4 h-4 mr-1"}),l("settings.socialMedia")]}),(0,s.jsx)("input",{type:"text",value:n.socialMedia,onChange:m,name:"socialMedia",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-[#9b9b6f] focus:outline-none transition-colors",placeholder:l("settings.socialMediaPlaceholder")}),(0,s.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:l("settings.socialMediaDesc")})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center text-sm font-medium mb-2 text-[#9b9b6f]",children:[(0,s.jsx)(A.A,{className:"w-4 h-4 mr-1"}),l("settings.age")]}),(0,s.jsx)("input",{type:"number",value:n.age,onChange:m,name:"age",required:!0,min:"13",max:"120",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-[#9b9b6f] focus:outline-none transition-colors",placeholder:l("settings.agePlaceholder")})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center text-sm font-medium mb-2 text-[#9b9b6f]",children:[(0,s.jsx)(P.A,{className:"w-4 h-4 mr-1"}),l("settings.gender")]}),(0,s.jsxs)("select",{value:n.gender,onChange:m,name:"gender",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-[#9b9b6f] focus:outline-none transition-colors",children:[(0,s.jsx)("option",{value:"",children:l("settings.selectGender")}),(0,s.jsx)("option",{value:"Male",children:l("settings.male")}),(0,s.jsx)("option",{value:"Female",children:l("settings.female")}),(0,s.jsx)("option",{value:"Other",children:l("settings.other")})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center text-sm font-medium mb-2 text-[#9b9b6f]",children:[(0,s.jsx)(M,{className:"w-4 h-4 mr-1"}),l("settings.organization")]}),(0,s.jsx)("input",{type:"text",value:n.organization,onChange:m,name:"organization",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-[#9b9b6f] focus:outline-none transition-colors",placeholder:l("settings.organizationPlaceholder")})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center text-sm font-medium mb-2 text-[#9b9b6f]",children:[(0,s.jsx)(S,{className:"w-4 h-4 mr-1"}),l("settings.region")]}),(0,s.jsxs)("select",{value:n.region,onChange:m,name:"region",required:!0,className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white focus:border-[#9b9b6f] focus:outline-none transition-colors",children:[(0,s.jsx)("option",{value:"",children:l("settings.selectRegion")}),q.map(e=>(0,s.jsx)("option",{value:e,children:e},e))]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"flex items-center text-sm font-medium mb-2 text-[#9b9b6f]",children:[(0,s.jsx)(z,{className:"w-4 h-4 mr-1"}),l("settings.phone")]}),(0,s.jsx)("input",{type:"tel",value:n.phone,onChange:m,name:"phone",className:"w-full px-4 py-3 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:border-[#9b9b6f] focus:outline-none transition-colors",placeholder:l("settings.phonePlaceholder")})]})]}),(0,s.jsx)("div",{className:"pt-4",children:(0,s.jsx)("button",{type:"submit",disabled:o||!u,className:"w-full bg-[#9b9b6f] hover:bg-[#a5a575] disabled:bg-gray-600 disabled:cursor-not-allowed text-black font-semibold py-3 px-6 rounded-lg transition-colors",children:o?l("settings.savingButton"):l("settings.saveButton")})})]})]})})};var D=a(5868);let U=(0,u.A)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);var L=a(3786),R=a(5525),B=a(6151),F=a(1586);let T=()=>{let{user:e}=(0,d.As)(),[t,a]=(0,r.useState)([]),[l,n]=(0,r.useState)([]),[i,o]=(0,r.useState)(!0),[c,u]=(0,r.useState)(!1),[x,m]=(0,r.useState)(null),[h,g]=(0,r.useState)(""),[b,f]=(0,r.useState)(!1),[y,j]=(0,r.useState)(!1),[N,v]=(0,r.useState)(""),[w,_]=(0,r.useState)({daysRemaining:90,progressPercentage:0,currentCycle:1}),k=()=>t.reduce((e,t)=>e+t.earning_amount_dollars,0),A=()=>Math.max(0,k()-l.reduce((e,t)=>"paid"===t.status||t.paid_at||"approved"===t.status||"pending"===t.status?e+t.amount_dollars:e,0)),P=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),M=(0,r.useCallback)(async()=>{if(null==e?void 0:e.id)try{let{data:t,error:a}=await p.ND.from("profiles").select("created_at").eq("id",e.id).single();if(a)throw a;if(null==t?void 0:t.created_at){let e=new Date(t.created_at),a=Math.floor((Date.now()-e.getTime())/864e5),s=Math.floor(a/90)+1,r=a-(s-1)*90,l=Math.round(r/90*100);_({daysRemaining:Math.max(0,90-r),progressPercentage:Math.min(100,Math.max(0,l)),currentCycle:s})}}catch(e){console.error("Error calculating patch progress:",e)}},[null==e?void 0:e.id,_]),S=(0,r.useCallback)(async()=>{if(null==e?void 0:e.id)try{o(!0),m(null);let{data:t,error:s}=await p.ND.from("weekly_earnings").select("*").eq("user_id",e.id).order("created_at",{ascending:!1});if(s)throw s;let{data:r,error:l}=await p.ND.from("payout_requests").select("*").eq("user_id",e.id).order("request_date",{ascending:!1});if(l)throw l;let{data:i,error:d}=await p.ND.from("profiles").select("paypal_email").eq("id",e.id).maybeSingle();!d&&i&&g(i.paypal_email||"");let c=(t||[]).map(e=>({id:e.id,earning_amount_dollars:e.earning_amount_dollars||e.dollars_earned||0,pull_up_count:e.pull_up_count,is_first_submission:e.is_first_submission||!1,created_at:e.created_at,weekly_pool_id:e.weekly_pool_id||e.pool_id})),u=(r||[]).map(e=>({id:e.id,user_id:e.user_id,amount_dollars:e.amount_dollars,paypal_email:e.paypal_email,status:e.status,request_date:e.request_date,processed_date:e.processed_date||null,paid_at:e.paid_at||null,paid_by:e.paid_by||null,notes:e.notes||null}));a(c),n(u)}catch(e){console.error("Error fetching earnings:",e),m(e instanceof Error?e.message:"Failed to load earnings")}finally{o(!1)}},[null==e?void 0:e.id,a,n,g,m,o]);(0,r.useEffect)(()=>{S(),M()},[null==e?void 0:e.id,S,M]);let z=async()=>{if((null==e?void 0:e.id)&&!c)try{u(!0);let e=A();if(e<=0)return void C.Ay.error("No funds available for payout");let{data:{session:t}}=await p.ND.auth.getSession();if(!(null==t?void 0:t.access_token))throw Error("Authentication required");let{error:a}=await p.ND.functions.invoke("request-payout",{body:{amount_dollars:e},headers:{Authorization:"Bearer ".concat(t.access_token)}});if(a)throw a;C.Ay.success("Payout request submitted: ".concat(P(e))),await S()}catch(e){console.error("Error requesting payout:",e),C.Ay.error("Failed to submit payout request. Please try again.")}finally{u(!1)}},q=async()=>{if((null==e?void 0:e.id)&&!b)try{if(f(!0),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(N))return void C.Ay.error("Please enter a valid email address");let{error:t}=await p.ND.from("profiles").update({paypal_email:N}).eq("id",e.id);if(t)throw t;C.Ay.success("PayPal email updated successfully!"),g(N),j(!1),v("")}catch(e){console.error("Error updating PayPal email:",e),C.Ay.error("Failed to update PayPal email. Please try again.")}finally{f(!1)}},E=()=>{v(h||""),j(!0)};return(0,s.jsxs)("div",{className:"space-y-8",children:[(0,s.jsx)("div",{className:"bg-[#9b9b6f]/10 border border-[#9b9b6f] rounded-lg p-4 text-center",children:(0,s.jsx)("p",{className:"text-[#9b9b6f] text-sm",children:"US shipping only. International users are not currently eligible for patch or physical rewards."})}),x&&(0,s.jsx)("div",{className:"bg-red-900/20 border border-red-700 rounded-lg p-4 text-center",children:(0,s.jsx)("p",{className:"text-red-400 text-sm",children:x})}),(0,s.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(U,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Claim Your Patch"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Get your earned patch"}),(0,s.jsxs)("a",{href:"https://shop.thebattlebunker.com/cart/45041068572857:1?discount=PULLUPCLUB100",target:"_blank",rel:"noopener noreferrer",className:"bg-[#9b9b6f] hover:bg-[#a5a575] text-black font-semibold py-2 px-4 rounded-lg transition-colors inline-flex items-center gap-2",children:["Claim Patch ",(0,s.jsx)(L.A,{size:16})]})]}),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(R.A,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Next Patch Progress"}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("div",{className:"w-full bg-gray-800 rounded-full h-2 mb-2",children:(0,s.jsx)("div",{className:"bg-[#9b9b6f] h-2 rounded-full transition-all duration-500",style:{width:"".concat(w.progressPercentage,"%")}})}),(0,s.jsxs)("p",{className:"text-sm text-gray-400",children:["Progress: ",w.progressPercentage,"%"]})]}),(0,s.jsxs)("p",{className:"text-2xl font-bold text-white mb-1",children:[w.daysRemaining," days"]}),(0,s.jsxs)("p",{className:"text-gray-400",children:["until your next patch ships (Cycle ",w.currentCycle,")"]})]}),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(B.A,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Shop Gear"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Get your training equipment"}),(0,s.jsxs)("a",{href:"https://shop.thebattlebunker.com/collections/workout-equipment/products/3-pack-battle-bands",target:"_blank",rel:"noopener noreferrer",className:"bg-[#9b9b6f] hover:bg-[#a5a575] text-black font-semibold py-2 px-4 rounded-lg transition-colors inline-flex items-center gap-2",children:["Shop Gear ",(0,s.jsx)(L.A,{size:16})]})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(F.A,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Subscription"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Manage your monthly subscription"}),(0,s.jsxs)("a",{href:"https://billing.stripe.com/p/login/dRmdR9dos2kmaQcdHGejK00",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors inline-flex items-center gap-2",children:["Manage Subscription ",(0,s.jsx)(L.A,{size:16})]})]}),(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(D.A,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Payout Settings"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Manage your PayPal for earnings"}),h?(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"bg-green-900/20 border border-green-600 p-3 rounded",children:[(0,s.jsx)("p",{className:"text-xs text-green-400",children:"âœ… Ready to Receive Payments"}),(0,s.jsxs)("p",{className:"text-sm text-green-300 font-medium truncate",children:["PayPal: ",h]})]}),(0,s.jsx)("button",{onClick:E,className:"bg-gray-800 hover:bg-gray-700 text-white font-semibold py-2 px-4 rounded-lg transition-colors text-sm w-full",children:"Update PayPal"})]}):(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"bg-yellow-900/20 border border-yellow-700 p-3 rounded",children:[(0,s.jsx)("p",{className:"text-xs text-yellow-400",children:"PayPal Required"}),(0,s.jsx)("p",{className:"text-sm text-yellow-300",children:"Add email to receive payouts"})]}),(0,s.jsx)("button",{onClick:E,className:"bg-[#9b9b6f] hover:bg-[#a5a575] text-black font-semibold py-2 px-4 rounded-lg transition-colors text-sm w-full",children:"Add PayPal Email"}),(0,s.jsxs)("a",{href:"https://www.paypal.com/signup",target:"_blank",rel:"noopener noreferrer",className:"text-[#9b9b6f] hover:underline text-xs inline-flex items-center gap-1",children:["Need PayPal? Sign up ",(0,s.jsx)(L.A,{size:12})]})]})]}),(()=>{if(i)return(0,s.jsx)("div",{className:"animate-pulse",children:"Loading payouts..."});let e=A(),t=k(),a=l.some(e=>"pending"===e.status&&!e.paid_at);return(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center transform transition-transform hover:scale-105",children:[(0,s.jsx)("div",{className:"flex justify-center mb-4",children:(0,s.jsx)(D.A,{size:48,className:"text-[#9b9b6f]"})}),(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"Competition Payouts"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Earnings from pull-up competitions"}),(0,s.jsxs)("div",{className:"space-y-3 mb-4",children:[(0,s.jsxs)("div",{className:"bg-gray-800 p-3 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-gray-400",children:"Total Earned"}),(0,s.jsx)("p",{className:"text-xl font-bold text-white",children:P(t)})]}),e>0&&(0,s.jsxs)("div",{className:"bg-green-900/20 border border-green-600 p-3 rounded",children:[(0,s.jsx)("p",{className:"text-sm text-green-400",children:"Available for Payout"}),(0,s.jsx)("p",{className:"text-lg font-bold text-green-300",children:P(e)})]})]}),e>0&&!a&&h&&(0,s.jsx)("button",{onClick:z,disabled:c||i,className:"bg-[#9b9b6f] hover:bg-[#a5a575] disabled:bg-gray-600 disabled:cursor-not-allowed text-black font-semibold py-2 px-4 rounded-lg transition-colors w-full",children:c?"Processing...":"Request Payout (".concat(P(e),")")}),e>0&&!h&&(0,s.jsx)("div",{className:"bg-orange-900/20 border border-orange-700 rounded px-4 py-2",children:(0,s.jsx)("span",{className:"text-orange-400 text-sm font-medium",children:"Add PayPal email in Payout Settings to request payouts"})}),a&&(0,s.jsx)("div",{className:"bg-yellow-900/20 border border-yellow-700 rounded px-4 py-2",children:(0,s.jsx)("span",{className:"text-yellow-400 text-sm font-medium",children:"Payout request pending"})}),0===t&&(0,s.jsx)("p",{className:"text-gray-400",children:"Start competing to earn money from pull-up challenges!"})]})})()]})]}),!i&&t.length>0&&(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Earnings History"}),(0,s.jsx)("div",{className:"space-y-3",children:t.slice(0,5).map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-800 rounded",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-white font-medium",children:[e.pull_up_count," pull-ups",e.is_first_submission?" (First submission bonus)":""]}),(0,s.jsx)("p",{className:"text-gray-400 text-sm",children:"Competition earning"}),(0,s.jsx)("p",{className:"text-gray-500 text-xs",children:new Date(e.created_at).toLocaleDateString()})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"text-white font-bold",children:P(e.earning_amount_dollars)}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded text-green-400 bg-green-900/20",children:"Available"})]})]},e.id))}),t.length>5&&(0,s.jsxs)("p",{className:"text-gray-400 text-sm mt-3 text-center",children:["...and ",t.length-5," more earnings"]})]}),!i&&l.length>0&&(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:"Payout History"}),(0,s.jsx)("div",{className:"space-y-3",children:l.slice(0,3).map(e=>(0,s.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-800 rounded",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("p",{className:"text-white font-medium",children:["Payout Request: ",P(e.amount_dollars)]}),(0,s.jsxs)("p",{className:"text-gray-500 text-xs",children:["Requested: ",new Date(e.request_date).toLocaleDateString()]}),e.processed_date&&(0,s.jsxs)("p",{className:"text-gray-500 text-xs",children:["Processed: ",new Date(e.processed_date).toLocaleDateString()]}),e.paid_at&&(0,s.jsxs)("p",{className:"text-gray-500 text-xs",children:["Paid: ",new Date(e.paid_at).toLocaleDateString()]}),e.notes&&(0,s.jsx)("p",{className:"text-gray-400 text-xs mt-1",children:e.notes})]}),(0,s.jsx)("span",{className:"text-xs px-2 py-1 rounded capitalize ".concat(((e,t)=>{if("paid"===e||t)return"text-blue-400 bg-blue-900/20";switch(e){case"pending":return"text-yellow-400 bg-yellow-900/20";case"approved":return"text-green-400 bg-green-900/20";case"rejected":return"text-red-400 bg-red-900/20";default:return"text-gray-400 bg-gray-900/20"}})(e.status||"unknown",e.paid_at||void 0)),children:"paid"===e.status||e.paid_at?"paid":e.status})]},e.id))})]}),!i&&0===t.length&&(0,s.jsxs)("div",{className:"bg-gray-900 p-6 rounded-lg text-center",children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-2",children:"No Earnings Yet"}),(0,s.jsx)("p",{className:"text-gray-400",children:"Start participating in pull-up competitions to earn money!"})]}),y&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4","data-lenis-prevent":!0,children:(0,s.jsxs)("div",{className:"bg-gray-900 rounded-lg p-6 w-full max-w-md","data-lenis-prevent":!0,children:[(0,s.jsx)("h3",{className:"text-xl font-bold text-white mb-4",children:h?"Update PayPal Email":"Add PayPal Email"}),(0,s.jsx)("p",{className:"text-gray-400 mb-4",children:"Enter your PayPal email address to receive competition payouts."}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"paypal-email",className:"block text-sm font-medium text-gray-300 mb-2",children:"PayPal Email"}),(0,s.jsx)("input",{type:"email",id:"paypal-email",value:N,onChange:e=>v(e.target.value),placeholder:"your-email@example.com",className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-[#9b9b6f] focus:border-transparent"})]}),(0,s.jsxs)("div",{className:"flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>{j(!1),v("")},className:"flex-1 bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),(0,s.jsx)("button",{onClick:q,disabled:b||!N.trim(),className:"flex-1 bg-[#9b9b6f] hover:bg-[#a5a575] disabled:bg-gray-600 disabled:cursor-not-allowed text-black font-semibold py-2 px-4 rounded-lg transition-colors",children:b?"Updating...":h?"Update":"Add"})]})]})]})})]})},H=()=>{let{user:e,isFirstLogin:t,profile:a}=(0,d.As)(),n=(0,l.useRouter)(),{t:c}=(0,y.Bd)("profile"),[u,x]=(0,r.useState)("submissions"),[m,h]=(0,r.useState)({full_name:"",social_media:"",age:"",gender:"",organization:"",region:"",phone:""}),[g,p]=(0,r.useState)(!1),{trackViewContent:b}=(0,j.Q)(),f=(0,r.useRef)(!1);return((0,r.useEffect)(()=>{f.current||(f.current=!0,b({},{name:"Profile Page",category:"profile",type:"page"}).catch(()=>{}))},[b]),(0,r.useEffect)(()=>{t&&a&&!a.is_profile_completed&&x("settings")},[t,a]),(0,r.useEffect)(()=>{if(a){var e;h({full_name:a.full_name||"",social_media:a.social_media||"",age:(null==(e=a.age)?void 0:e.toString())||"",gender:a.gender||"",organization:a.organization||"",region:a.region||"",phone:a.phone||""})}},[a]),(0,r.useEffect)(()=>{let e=a?{full_name:a.full_name||"",social_media:a.social_media||"",age:void 0!==a.age?String(a.age):"",gender:a.gender||"",organization:a.organization||"",region:a.region||"",phone:a.phone||""}:{full_name:"",social_media:"",age:"",gender:"",organization:"",region:"",phone:""};p(JSON.stringify(m)!==JSON.stringify(e))},[m,a]),(0,r.useEffect)(()=>{let e=e=>{g&&(e.preventDefault(),e.returnValue="")};return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)},[g]),e)?(0,s.jsxs)(o.default,{children:[(0,s.jsxs)(i(),{children:[(0,s.jsx)("title",{children:c("meta.title")}),(0,s.jsx)("meta",{name:"description",content:c("meta.description")})]}),(0,s.jsxs)("div",{className:"w-full px-4 py-8 bg-black",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-white mb-2",children:c("title")}),(0,s.jsx)("p",{className:"text-gray-400",children:null==e?void 0:e.email})]}),(0,s.jsx)("div",{className:"flex justify-center mb-8",children:(0,s.jsxs)("nav",{className:"flex bg-gray-900 rounded-lg p-1",children:[(0,s.jsx)("button",{onClick:()=>x("submissions"),className:"px-6 py-3 rounded-md font-medium transition-colors flex items-center ".concat("submissions"===u?"bg-[#9b9b6f] text-black":"text-gray-400 hover:text-white"),children:c("sidebar.submissions")}),(0,s.jsx)("button",{onClick:()=>x("settings"),className:"px-6 py-3 rounded-md font-medium transition-colors flex items-center ".concat("settings"===u?"bg-[#9b9b6f] text-black":"text-gray-400 hover:text-white"),children:c("sidebar.settings")}),(0,s.jsx)("button",{onClick:()=>x("subscription"),className:"px-6 py-3 rounded-md font-medium transition-colors flex items-center ".concat("subscription"===u?"bg-[#9b9b6f] text-black":"text-gray-400 hover:text-white"),children:c("sidebar.subscriptionAndRewards")})]})}),(0,s.jsxs)("div",{className:"max-w-6xl mx-auto",children:["submissions"===u&&(0,s.jsx)(v,{}),"settings"===u&&(0,s.jsx)(E,{}),"subscription"===u&&(0,s.jsx)(T,{})]})]})]}):(n.push("/login"),null)}},1586:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},3786:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},5015:(e,t,a)=>{"use strict";a.d(t,{Gu:()=>r,W5:()=>l});var s=a(5155);a(2115);let r=e=>{let{message:t="Loading...",className:a=""}=e;return(0,s.jsxs)("div",{className:"bg-gray-800 p-8 rounded-lg text-center ".concat(a),children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"}),(0,s.jsx)("p",{className:"text-white",children:t})]})},l=e=>{let{message:t,className:a="",onRetry:r}=e;return(0,s.jsxs)("div",{className:"bg-red-900 border border-red-700 text-white p-4 rounded-lg flex items-center justify-between ".concat(a),children:[(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2 flex-shrink-0",viewBox:"0 0 20 20",fill:"currentColor",children:(0,s.jsx)("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),(0,s.jsx)("span",{children:t})]}),r&&(0,s.jsx)("button",{onClick:r,className:"bg-red-800 hover:bg-red-700 text-white text-sm px-3 py-1 rounded-md ml-4 transition-colors",children:"Retry"})]})}},5868:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},6151:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]])},7434:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])},7580:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},7863:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},8126:(e,t)=>{"use strict";function a(){return null}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return a}}),("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},8261:(e,t,a)=>{"use strict";a.d(t,{default:()=>o});var s=a(5155),r=a(2115),l=a(5695),n=a(5731),i=a(5015);let o=e=>{let{children:t,requireAuth:a=!0,redirectTo:o="/login"}=e,{user:d,isLoading:c,subscriptionState:u}=(0,n.As)(),x=(0,l.useRouter)(),m=(0,l.usePathname)();return(r.useEffect(()=>{if(!c&&(!a||"loading"!==u)){if(a&&!d){let e="".concat(o,"?redirect=").concat(encodeURIComponent(m||"/"));x.push(e);return}if(!a&&d)return void x.push("/profile")}},[d,c,u,a,o,m,x]),c||a&&"loading"===u)?(0,s.jsx)(i.Gu,{message:"Checking authentication..."}):a&&!d?(0,s.jsx)(i.Gu,{message:"Redirecting to login..."}):!a&&d?(0,s.jsx)(i.Gu,{message:"Redirecting to profile..."}):(0,s.jsx)(s.Fragment,{children:t})}},9074:(e,t,a)=>{"use strict";a.d(t,{A:()=>s});let s=(0,a(2895).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])}},e=>{e.O(0,[3825,1218,7132,9650,8260,5116,8589,8441,5964,7358],()=>e(e.s=211)),_N_E=e.O()}]);